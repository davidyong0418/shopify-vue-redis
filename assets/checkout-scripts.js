!function(){if("function"==typeof NodeList.prototype.forEach)return;NodeList.prototype.forEach=Array.prototype.forEach}(),String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return position=position||0,this.substr(position,searchString.length)===searchString}),jQuery(document).ready(function(){try{var tracking=document.querySelector(".tracking-info__number a");if(tracking){var trackingLink=tracking.getAttribute("href");tracking.setAttribute("href",trackingLink.replace(/https/gi,"http"))}}catch(e){console.log("tracking link change error",e)}try{/orders/gi.test(window.location)&&(document.querySelector(".order-summary__section.order-summary__section--product-list").style.display="block",document.getElementById("ib-item-list").style.display="none")}catch(e){console.log("error with display",e)}try{document.querySelectorAll("input.input-checkbox").forEach(function(i){i.checked=!0})}catch(e){console.log("auto check newsletter and save info checkbox fields",e)}try{var returnToCartLink=document.querySelector("span.step__footer__previous-link-content");returnToCartLink&&"Return to cart"===returnToCartLink.innerText&&(returnToCartLink.innerText="Continue Shopping",returnToCartLink.parentElement.setAttribute("href","/"))}catch(e){console.log("update return to cart to continue shopping and set link to home page",e)}!function getCheckoutPageNum(callback,args){try{var checkoutPage=0;return document.querySelectorAll("h2").forEach(function(i){"CUSTOMER INFORMATION"===i.innerText.toUpperCase().trim()&&(checkoutPage=1),"CONTACT INFORMATION"===i.innerText.toUpperCase().trim()&&(checkoutPage=1),"SHIPPING METHOD"===i.innerText.toUpperCase().trim()&&(checkoutPage=2),"PAYMENT METHOD"===i.innerText.toUpperCase().trim()&&(checkoutPage=3),"INVENTORY ISSUES"===i.innerText.toUpperCase().trim()&&(checkoutPage=4),i.innerText.toUpperCase().startsWith("THANK YOU")&&(checkoutPage=5)}),console.log("checkout page",checkoutPage),callback(args,checkoutPage)}catch(e){console.log("function getCheckoutPageNum",e)}}(function globalEventListeners(triggerDefaults,checkoutPage){try{document.querySelectorAll(".notice__text").forEach(function(i){i.parentElement.classList.contains("hidden")||setTimeout(function(){vuecart.$children[0].analyticsCustomEvent("general-errors",i.innerText.trim(),{},"checkout:errors")},500)}),[document.getElementById("error-for-number"),document.getElementById("error-for-name"),document.getElementById("error-for-expiry"),document.getElementById("error-for-verification_value")].forEach(function(i){i&&setTimeout(function(){vuecart.$children[0].analyticsCustomEvent("card-validation:error",i.innerText,{},"checkout:errors")},2500)})}catch(e){console.log("events for error messages",e)}try{document.getElementById("checkout_email")&&document.getElementById("checkout_email").addEventListener("change",function(event){vuecart.$children[0].analyticsCustomEvent("update-email","update-email",{},"checkout:customer-information")})}catch(e){console.log("customer email change",e)}try{document.getElementById("checkout_shipping_address_country")&&document.getElementById("checkout_shipping_address_country").addEventListener("change",function(event){vuecart.$children[0].analyticsCustomEvent("change-country",event.target.value,{},"checkout:shipping-address")})}catch(e){console.log("shipping address country change",e)}try{document.getElementById("checkout_buyer_accepts_marketing")&&document.getElementById("checkout_buyer_accepts_marketing").addEventListener("change",function(event){var checkbox=document.getElementById("checkout_buyer_accepts_marketing");!0===checkbox.checked?(checkbox.checked=!0,checkbox.value=1):(checkbox.checked=!1,checkbox.value=0),vuecart.$children[0].analyticsCustomEvent("accepts-marketing",checkbox.checked?"yes":"no",{},"checkout:customer-information")})}catch(e){console.log("newsletter signup checkbox change",e)}try{document.getElementById("checkout_remember_me")&&document.getElementById("checkout_remember_me").addEventListener("change",function(event){var checkbox=document.getElementById("checkout_remember_me");!0===checkbox.checked?(checkbox.checked=!0,checkbox.value=1):(checkbox.checked=!1,checkbox.value=0),vuecart.$children[0].analyticsCustomEvent("remember-me",checkbox.checked?"yes":"no",{},"checkout:shipping-address")})}catch(e){console.log("remember me checkbox shipping address",e)}try{0<document.querySelectorAll("input.input-radio").length&&1<checkoutPage?document.querySelectorAll("input.input-radio").forEach(function(i){var label,labelArray=function getGALabelForRadioElement(id){try{return document.querySelector('label[for="'+id+'"] .radio__label__primary')?[document.querySelector('label[for="'+id+'"] .radio__label__primary').innerText.trim(),document.querySelector('label[for="'+id+'"] .radio__label__accessory').innerText.trim()]:[document.querySelector('label[for="'+id+'"]').innerText.trim()]}catch(e){console.log("function getGALabelForRadioElement",e)}}(i.getAttribute("id")),category="checkout:shipping-methods";2===checkoutPage&&(label=labelArray.join(" ")),3===checkoutPage&&(label=labelArray[0],category=1<labelArray.length?"checkout:payment-methods":"checkout:billing-address"),i.addEventListener("change",function(event){vuecart.$children[0].analyticsCustomEvent("change-method",label,{},category)}),i.hasAttribute("checked")&&triggerDefaults&&setTimeout(function(){vuecart.$children[0].analyticsCustomEvent("default",label,{},category)},500)}):triggerDefaults&&1<checkoutPage&&5!==checkoutPage&&setTimeout(function(){vuecart.$children[0].analyticsCustomEvent("default","no methods available",{},"checkout:"+(2===checkoutPage?"shipping-methods":"payment-methods"))},500)}catch(e){console.log("radio buttons",e)}},!0),document.addEventListener("click",function(event){try{"alt-payment-list__item__link"===event.target.className&&"a"===event.target.localName&&(console.log("alt-pay-method",event.target.querySelector("img").getAttribute("alt"),{},"checkout:navigation",vuecart.$children[0]),vuecart.$children[0].analyticsCustomEvent("alt-pay-method",event.target.querySelector("img").getAttribute("alt"),{},"checkout:navigation"))}catch(e){console.log("click on alt method",e)}try{"breadcrumb__link"===event.target.className&&"a"===event.target.localName&&vuecart.$children[0].analyticsCustomEvent("breadcrumb",event.target.innerText.trim(),{},"checkout:navigation")}catch(e){console.log("click on breadcrumb",e)}try{"step__footer__previous-link-content"===event.target.className&&vuecart.$children[0].analyticsCustomEvent("previous-link",event.target.innerText.trim(),{},"checkout:navigation")}catch(e){console.log("click on previous link",e)}try{"Already have an account? Log in"===event.target.innerText&&vuecart.$children[0].analyticsCustomEvent("customer-information","login",{},"checkout:navigation")}catch(e){console.log("log in",e)}try{"edit"===event.target.innerText&&vuecart.$children[0].analyticsCustomEvent("shipping-method","edit",{},"checkout:navigation")}catch(e){console.log("edit address during shipping method",e)}try{"policy-list__item"===event.target.parentElement.className&&vuecart.$children[0].analyticsCustomEvent("footer-links",event.target.innerText.trim(),{},"checkout:navigation")}catch(e){console.log("click on footer link",e)}try{event.target.isEqualNode(document.querySelector("button.step__footer__continue-btn.btn"))&&vuecart.$children[0].analyticsCustomEvent("main-action",event.target.innerText.trim(),{},"checkout:navigation"),event.target.isEqualNode(document.querySelector(".step__footer__continue-btn span.btn__content"))&&vuecart.$children[0].analyticsCustomEvent("main-action",event.target.innerText.trim(),{},"checkout:navigation"),event.target.isEqualNode(document.querySelector(".step__footer__continue-btn i.btn__spinner.icon.icon--button-spinner"))&&vuecart.$children[0].analyticsCustomEvent("main-action",event.target.parentElement.innerText.trim(),{},"checkout:navigation")}catch(e){console.log("click on main buttons to continue or complete checkout",e)}try{"logo__image logo__image--medium"===event.target.className&&vuecart.$children[0].analyticsCustomEvent("top-links","logo",{},"checkout:navigation")}catch(e){console.log("click on logo",e)}})});